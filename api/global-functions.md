## _G

以下是所有全局函数的列表。所谓"全局"，我们指的是这些函数不需要前置命名空间 - 所以您可以直接调用它们，不像其他函数。


## print

在游戏控制台中打印文本。此函数可以接受多个参数，并将它们依次打印在控制台中。适用于调试和信息输出。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `...` | 任意类型 | 要在控制台中打印的值，可以是字符串、数字、表等。多个值将以空格分隔。 |

**返回值**

无。

**示例**

```lua
print('Hello world!', 123, {key = 'value'}); -- 在控制台中打印 "Hello world! 123 {key = 'value'}"
```

**注意事项**

- `print` 函数不会在控制台中自动换行，除非显式传递换行符。 
- 适用于调试信息输出，不建议用于生产环境中的日志记录。

## error


在游戏控制台中打印错误文本，并关闭脚本。此函数应仅在发生无法恢复的错误时使用。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `text` | string | 错误信息文本，将在控制台中打印。 |

**返回值**

无。

**示例**

```lua
error('无法从这个错误中恢复！错误：' .. tostring(123));
```

**注意事项**

- 使用 `error` 函数会立即终止脚本的执行。
- 确保在调用 `error` 之前，已记录或处理必要的清理操作。

## assert

用于检查表达式是否为真。如果表达式为假，则抛出错误。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `v` | 任意类型 | 要检查的表达式。 |
| `message` | string | （可选）错误信息。 |

**返回值**

返回传入的表达式值。

**示例**

```lua
assert(1 == 1, '这不会出错')
assert(1 == 0, '这会出错')
```

## ipairs

用于迭代数组部分的表。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `t` | table | 要迭代的表。 |

**返回值**

返回迭代器函数。

**示例**

```lua
for i, v in ipairs({10, 20, 30}) do
  print(i, v)
end
```

## tonumber

将字符串转换为数字。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `e` | string | 要转换的字符串。 |
| `base` | number | （可选）进制。 |

**返回值**

返回转换后的数字或 nil。

**示例**

```lua
print(tonumber('10'))
print(tonumber('A', 16))
```

## tostring

将值转换为字符串。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `e` | 任意类型 | 要转换的值。 |

**返回值**

返回转换后的字符串。

**示例**

```lua
print(tostring(123))
```

## type

返回值的类型。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `v` | 任意类型 | 要检查的值。 |

**返回值**

返回类型名称的字符串。

**示例**

```lua
print(type(123))
print(type('hello'))
```

## unpack

返回表中的所有元素。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `list` | table | 要解包的表。 |

**返回值**

返回表中的所有元素。

**示例**

```lua
local a, b, c = unpack({1, 2, 3})
print(a, b, c)
```

## xpcall

保护性调用函数，带有错误处理。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `f` | function | 要调用的函数。 |
| `err` | function | 错误处理函数。 |

**返回值**

返回布尔值和函数返回值或错误信息。

**示例**

```lua
local status, err = xpcall(function() error('error!') end, function(e) return 'caught: ' .. e end)
print(status, err)
```

## pcall

保护性调用函数。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `f` | function | 要调用的函数。 |

**返回值**

返回布尔值和函数返回值或错误信息。

**示例**

```lua
local status, result = pcall(function() return 1/0 end)
print(status, result)
```

## next

用于遍历表的下一个键值对。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `table` | table | 要遍历的表。 |
| `index` | 任意类型 | 上一个键。 |

**返回值**

返回下一个键值对。

**示例**

```lua
local t = {a = 1, b = 2}
local key, value = next(t, nil)
while key do
  print(key, value)
  key, value = next(t, key)
end
```

## pairs

用于遍历表的所有键值对。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `t` | table | 要遍历的表。 |

**返回值**

返回迭代器函数。

**示例**

```lua
for k, v in pairs({x = 10, y = 20}) do
  print(k, v)
end
```

## select

用于选择参数列表中的部分参数。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `index` | number | 起始索引。 |
| `...` | 任意类型 | 参数列表。 |

**返回值**

返回从指定索引开始的参数。

**示例**

```lua
print(select(2, 'a', 'b', 'c')) -- 输出 'b', 'c'
```

## getmetatable

获取表的元表。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `object` | table | 要获取元表的表。 |

**返回值**

返回元表或 nil。

**示例**

```lua
local mt = {}
local t = setmetatable({}, mt)
print(getmetatable(t) == mt) -- 输出 true
```

## setmetatable

设置表的元表。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `table` | table | 要设置元表的表。 |
| `metatable` | table | 元表。 |

**返回值**

返回表。

**示例**

```lua
local mt = {}
local t = setmetatable({}, mt)
print(getmetatable(t) == mt) -- 输出 true
```


## require

> *暂未开放的功能，后续支持libraries库后会开放。*

加载模块。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `modname` | string | 模块名。 |

**返回值**

返回模块。

**示例**

```lua
local http = require('http')
```