## font_base

此类型代表字体类型的基类。你不能创建此类型的实例。请使用其子类型。

> 此类型继承自 [`managed`](/api/draw/managed "此类型代表一个托管对象。你不能直接创建此类型的实例。") 类型。其所有基础方法和字段在此类型中也可用。

> 定义：
> * **代码点**：字符的Unicode表示。
> * **字距调整**：两个字符之间的距离。
> * **字形**：字符的视觉表示。

## height

[![Field][此字段是一个普通字段，必须使用点(.)来访问。]rw]
[![Read Only][此字段是只读字段，你不能更改其值。这不适用于子字段（如果有的话）。]r]

类型：`float`

字体高度，以像素为单位。

## ascent

[![Field][此字段是一个普通字段，必须使用点(.)来访问。]rw]

类型：`float`

字体上升值，以像素为单位。

## descent

[![Field][此字段是一个普通字段，必须使用点(.)来访问。]rw]

类型：`float`

字体下降值，以像素为单位。

## line_gap

[![Field][此字段是一个普通字段，必须使用点(.)来访问。]rw]

类型：`float`

字体行间距，以像素为单位。

## kerning_gap

[![Field][此字段是一个普通字段，必须使用点(.)来访问。]rw]

类型：`float`

字体字距间隙，以像素为单位。

## outline_alpha

[![Field][此字段是一个普通字段，必须使用点(.)来访问。]rw]

类型：`float`

字体轮廓不透明度（`0` 到 `1`）。默认为 `0.45`。

## flags

[![Field][此字段是一个普通字段，必须使用点(.)来访问。]rw]
[![Read Only][此字段是只读字段，你不能更改其值。这不适用于子字段（如果有的话）。]r]

类型：[`font_flags`](/api/draw/managed/font-base/font-flags "此枚举决定字体对象应具有的标志。这些标志只能在类型构造期间设置。")

字体标志。使用 `bit` 库来读取标志。

## y_offset

[![Field][此字段是一个普通字段，必须使用点(.)来访问。]rw]

类型：`int`

字形Y偏移，以像素为单位。将改变字形在图集中的位置。在字体创建后更改此值是没有意义的。

## x_offset

[![Field][此字段是一个普通字段，必须使用点(.)来访问。]rw]

类型：`int`

字形X偏移，以像素为单位。将改变字形在图集中的位置。在字体创建后更改此值是没有意义的。

## fallback_font

[![Field][此字段是一个普通字段，必须使用点(.)来访问。]rw]

类型：`font_base`

当在此字体中找不到字形时使用的后备字体。当一个字体不包含特定符号的代码点，而这些符号存在于另一个字体中时很有用，但你仍然希望优先使用此字体的字形。

## dropshadow_color

[![Field][此字段是一个普通字段，必须使用点(.)来访问。]rw]

类型：[`color`](/api/draw/common-types/color "此类型是渲染系统中使用的颜色。")

阴影颜色。仅使用R、G、B值。

## get_kerned_char_width

[![Method][此字段是一个方法，必须使用冒号(:)来调用。]rw]

返回包含字距调整的字符宽度。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `left` | `int` | 前一个字符的代码点。 |
| `right` | `int` | 当前字符的代码点。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `float` | 距离，以像素为单位。 |

**示例**

```lua
local w = font:get_kerned_char_width(prev_cp, cp);
```

## get_kerning

[![Method][此字段是一个方法，必须使用冒号(:)来调用。]rw]

返回单个字符的字距值。如果禁用了字距调整，将返回字距间隙。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `cp` | `int` | 代码点。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `float` | 字距值，以像素为单位。 |

**示例**

```lua
local k = font:get_kerning(cp);
```

## get_text_size

[![Method][此字段是一个方法，必须使用冒号(:)来调用。]rw]

返回文本区域大小。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `text` | `string` | 文本。 |
| `skip_scaling` | `bool` | 如果设置为 `true`，将跳过全局DPI缩放。默认为 `false`。 |
| `til_newline` | `bool` | 仅计算到遇到换行符为止的大小。默认为 `false`。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| [`vec2`](/api/draw/common-types/vec2 "此类型是渲染系统中使用的2D向量。") | 文本区域大小。 |

**示例**

```lua
local sz = font:get_text_size('Hello!');
```

## wrap_text

[![Method][此字段是一个方法，必须使用冒号(:)来调用。]rw]

将文本换行以满足所需宽度。换行是通过按单词分割文本并在之间插入换行符来完成的。如果其中一个单词长度超过目标宽度，将使用该单词的宽度。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `text` | `string` | 要换行的文本。 |
| `width` | `float` | 目标宽度。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `string` | 换行后的文本。 |

**示例**

```lua
local shorter = font:wrap_text('This is some very long text!', 50);
```

## get_glyph

[![Method][此字段是一个方法，必须使用冒号(:)来调用。]rw]

返回字符的字形信息。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `codepoint` | `int` | 代码点。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| [`glyph_t`](/api/draw/managed/font-base/glyph-t "此类型代表一个字形对象。") | 字形信息。 |

**示例**

```lua
local glyph = font:get_glyph(cp);
```

## get_texture

[![Method][此字段是一个方法，必须使用冒号(:)来调用。]rw]

返回包含提供的字形的纹理图集。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `gl` | [`glyph_t`](/api/draw/managed/font-base/glyph-t "此类型代表一个字形对象。") | 字符字形。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `int` | 纹理指针，如果未找到则为 `nil`。 |

**示例**

```lua
local atlas = font:get_texture(glyph);
```