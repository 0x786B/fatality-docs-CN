## 位操作

用法：`bit.{function}`

此表提供了位操作相关的函数。

## lshift

[![函数][这是一个必须使用点(.)调用的函数]rw]

将数字左移指定的位数。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `n` | `int` | 要移位的数字。 |
| `bits` | `int` | 移位的位数。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `int` | 移位后的结果。 |

**示例**

```lua
local shifted = bit.lshift(1, 3); -- 8 (1 << 3)
```

## rshift

[![函数][这是一个必须使用点(.)调用的函数]rw]

将数字右移指定的位数。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `n` | `int` | 要移位的数字。 |
| `bits` | `int` | 移位的位数。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `int` | 移位后的结果。 |

**示例**

```lua
local shifted = bit.rshift(8, 3); -- 1 (8 >> 3)
```

## band

[![函数][这是一个必须使用点(.)调用的函数]rw]

对两个数进行按位与操作。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `x` | `int` | 第一个数字。 |
| `y` | `int` | 第二个数字。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `int` | 按位与的结果。 |

**示例**

```lua
local result = bit.band(3, 1); -- 1 (3 & 1)
```

## bor

[![函数][这是一个必须使用点(.)调用的函数]rw]

对两个数进行按位或操作。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `x` | `int` | 第一个数字。 |
| `y` | `int` | 第二个数字。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `int` | 按位或的结果。 |

**示例**

```lua
local result = bit.bor(2, 1); -- 3 (2 | 1)
```

## bxor

[![函数][这是一个必须使用点(.)调用的函数]rw]

对两个数进行按位异或操作。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `x` | `int` | 第一个数字。 |
| `y` | `int` | 第二个数字。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `int` | 按位异或的结果。 |

**示例**

```lua
local result = bit.bxor(3, 1); -- 2 (3 ^ 1)
```

## bnot

[![函数][这是一个必须使用点(.)调用的函数]rw]

对一个数进行按位取反操作。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `n` | `int` | 要取反的数字。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `int` | 按位取反的结果。 |

**示例**

```lua
local result = bit.bnot(1); -- -2 (~1)
```

## tobit

[![函数][这是一个必须使用点(.)调用的函数]rw]

将数字转换为比特整数。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `x` | `number` | 要转换的数字。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `int` | 转换后的比特整数。 |

**示例**

```lua
local bits = bit.tobit(1234.5); -- 1234
```

## tohex

[![函数][这是一个必须使用点(.)调用的函数]rw]

将数字转换为十六进制字符串。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `x` | `int` | 要转换的数字。 |
| `n` | `int` | （可选）十六进制字符串的位数。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `string` | 十六进制字符串。 |

**示例**

```lua
local hex = bit.tohex(250); -- "fa"
local hex_pad = bit.tohex(250, 4); -- "00fa"
```

## arshift

[![函数][这是一个必须使用点(.)调用的函数]rw]

算术右移（保持符号位）。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `n` | `int` | 要移位的数字。 |
| `bits` | `int` | 移位的位数。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `int` | 移位后的结果。 |

**示例**

```lua
local shifted = bit.arshift(-8, 1); -- -4
```

## rol

[![函数][这是一个必须使用点(.)调用的函数]rw]

向左循环移位。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `n` | `int` | 要移位的数字。 |
| `bits` | `int` | 移位的位数。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `int` | 移位后的结果。 |

**示例**

```lua
local rotated = bit.rol(0xff00, 8); -- 0x00ff
```

## ror

[![函数][这是一个必须使用点(.)调用的函数]rw]

向右循环移位。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `n` | `int` | 要移位的数字。 |
| `bits` | `int` | 移位的位数。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `int` | 移位后的结果。 |

**示例**

```lua
local rotated = bit.ror(0xff00, 8); -- 0x00ff
```

## bswap

[![函数][这是一个必须使用点(.)调用的函数]rw]

交换字节顺序（大小端转换）。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `n` | `int` | 要交换的数字。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `int` | 交换后的结果。 |

**示例**

```lua
local swapped = bit.bswap(0x12345678); -- 0x78563412
``` 