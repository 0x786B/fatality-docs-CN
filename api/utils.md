## utils

用法：`utils.{function}`

此表公开了各种实用函数。

## base64_encode

[![函数][这是一个必须使用点(.)调用的常规函数。]rw]

将字符串编码为 Base64 格式。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `str` | `string` | 源字符串。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `string` | Base64 编码的字符串。 |

**示例**

```lua
local enc = utils.base64_encode('Hello!'); -- SGVsbG8h
```

## base64_decode

[![函数][这是一个必须使用点(.)调用的常规函数。]rw]

解码 Base64 编码的字符串。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `str` | `string` | Base64 编码的字符串。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `string` | 源字符串。 |

**示例**

```lua
local dec = utils.base64_decode('SGVsbG8h'); -- Hello!
```

## get_unix_time

[![函数][这是一个必须使用点(.)调用的常规函数。]rw]

返回当前时间的 UNIX 时间戳。

**参数**

无。

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `int` | 时间戳。 |

**示例**

```lua
local ts = utils.get_unix_time();
```

## murmur2

[![函数][这是一个必须使用点(.)调用的常规函数。]rw]

返回 MURMUR2 哈希的字符串。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `str` | `string` | 源字符串。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `int` | 哈希值。 |

**示例**

```lua
local hash = utils.murmur2('Hello');
```

## fnv1a

[![函数][这是一个必须使用点(.)调用的常规函数。]rw]

返回 FNV1A 哈希的字符串。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `str` | `string` | 源字符串。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `int` | 哈希值。 |

**示例**

```lua
local hash = utils.fnv1a('Hello');
```

## find_export

[![函数][这是一个必须使用点(.)调用的常规函数。]rw]
[![仅不安全模式][此函数仅在启用"允许不安全"时存在。]i]

返回映像中导出的地址。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `mod` | `string` | 要查找的映像。 |
| `exp` | `string` | 导出符号。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `int` | 地址，失败时返回 `0`。 |

**示例**

```lua
local message_box = utils.find_export('user32.dll', 'MessageBoxA');
```

## find_pattern

[![函数][这是一个必须使用点(.)调用的常规函数。]rw]
[![仅不安全模式][此函数仅在启用"允许不安全"时存在。]i]

在映像中搜索代码模式。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `mod` | `string` | 要搜索的映像。 |
| `pattern` | `string` | 代码模式。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `int` | 地址，失败时返回 `0`。 |

**示例**

```lua
local something = utils.find_pattern('engine2.dll', 'DE AD ? ? ? ? BE EF');
```

## clipboard_get

[![函数][这是一个必须使用点(.)调用的常规函数。]rw]
[![仅不安全模式][此函数仅在启用"允许不安全"时存在。]i]

返回当前剪贴板内容。

**参数**

无。

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `string` | 剪贴板内容。 |

**示例**

```lua
local clip = utils.clipboard_get();
```

## clipboard_set

[![函数][这是一个必须使用点(.)调用的常规函数。]rw]
[![仅不安全模式][此函数仅在启用"允许不安全"时存在。]i]

设置新的剪贴板内容。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `str` | `string` | 新内容。 |

**返回值**

无。

**示例**

```lua
utils.clipboard_set('Hello!');
```